@model ynhnTransportManage.Models.LogOnModel
@{
    ViewBag.Title = "登录";
}


<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>

<script src="@Url.Content("~/Scripts/MyJs.js")" type="text/javascript"></script>
<script type="text/javascript">
    function GetKey() {
        var iskey = Verify();
        if (iskey) {
            var hId = GetHId();
            var cardNo = GetKeyNo();
            $("#HardwareID").val(hId);
            $("#CardNo").val(cardNo);
        }
        return iskey;
    }
    function GetHId() {
        //return "123456789";
        if (typeof (kk) == "undefined") {
            return "";
        }
        if (kk.object == null) {
            return "";
        }
        return kk.GetHardwareID();
    }
    function GetKeyNo() {        
        if (typeof (kk) == "undefined") {
            return "";
        }
        if (kk.object == null) {
            return "";
        }
        var kkk = kk.GetKeyNo();
        return kkk.substring(0, 9);
    }
</script>
<div id="logo">

@using (Html.BeginForm()) {
    <div id="form">
        <fieldset>
        <div class="left">

            @*<div class="editor-label">
                @Html.LabelFor(m => m.UserName)
            </div>*@
            <div class="editor-field">
                @Html.TextBoxFor(m => m.UserName)
                @Html.ValidationMessageFor(m => m.UserName)
            </div>

            @*<div class="editor-label">
                @Html.LabelFor(m => m.Password)
            </div>*@
            <div class="editor-field">
                @Html.PasswordFor(m => m.Password)
                @Html.ValidationMessageFor(m => m.Password)
            </div>

            @*<div class="editor-label">
                @Html.CheckBoxFor(m => m.RememberMe)
                @Html.LabelFor(m => m.RememberMe)
            </div>*@
            <div class="editor-field" style="display:none">
                @Html.TextBoxFor(m => m.HardwareID)
                @Html.TextBoxFor(m => m.CardNo)
            </div>
            </div>
            <div class="right">

            <p>
                <input  type="submit" class="submit" title="登录" value="" onclick="return GetKey(); " />
            </p>
            </div>
        </fieldset>
    </div>
}
<div class="msg">
@Html.ValidationSummary(true, "登录不成功。请更正错误并重试。")
</div>
</div>